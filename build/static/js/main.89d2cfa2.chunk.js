(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),u=n(4),l=n(2),i=function(e){var t=e.filter,n=e.handleFilter;return r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:n}))},d=function(e){return r.a.createElement("form",{onSubmit:e.addContact},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleName})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var t=e.persons,n=e.deleteContactAction;return t.map((function(e){return r.a.createElement("div",{key:e.id},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return n(e.id,e.name)}},"delete"))}))},f=function(e){var t=e.title;return r.a.createElement("h2",null,t)},s=n(3),b=n.n(s),h="/api/persons",p=function(){return b.a.get(h).then((function(e){return e.data}))},v=function(e){return b.a.post(h,e).then((function(e){return e.data}))},E=function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},j=function(e){return b.a.put("".concat(h,"/").concat(e.id),e).then((function(e){return e.data}))},w=function(e){var t=e.message,n=e.error,a={color:n?"red":"green",backgroundColor:"#D3D3D3",fontSize:20,border:n?"2px solid red":"2px solid green",margin:"10px",padding:"5px"};return null===t?null:r.a.createElement("div",{style:a},t)},O=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),b=s[0],h=s[1],O=Object(a.useState)(""),g=Object(l.a)(O,2),C=g[0],k=g[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),S=N[0],x=N[1],D=Object(a.useState)(null),A=Object(l.a)(D,2),F=A[0],I=A[1],J=Object(a.useState)(null),L=Object(l.a)(J,2),z=L[0],B=L[1];Object(a.useEffect)((function(){p().then((function(e){return c(e)}))}),[]),Object(a.useEffect)((function(){setTimeout((function(){I(null),B(null)}),7e3)}),[F]);var M=""===S?n:n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})),P=function(e,t){B(t),I(e),t||(h(""),k(""))};return r.a.createElement("div",null,r.a.createElement(f,{title:"Phonebook"}),r.a.createElement(w,{message:F,error:z}),r.a.createElement(i,{filter:S,handleFilter:function(e){x(e.target.value)}}),r.a.createElement(f,{title:"add a new"}),r.a.createElement(d,{newName:b,newNumber:C,addContact:function(e){e.preventDefault();var t=n.filter((function(e){return e.name===b}))[0];if(""===b||""===C)P("Fields should not be empty",!0);else if(t){window.confirm("".concat(t.name," is already added to phonebook,\n                replace the old number with a  new one?"))&&j(Object(u.a)(Object(u.a)({},t),{},{number:C})).then((function(e){c(n.map((function(n){return n.id===t.id?e:n}))),P("Contact ".concat(b," was successfully updated"),!1)})).catch((function(e){P(e.response.data.err,!0)}))}else{v({name:b,number:C}).then((function(e){c(n.concat(e)),P("Added ".concat(e.name),!1)})).catch((function(e){P(e.response.data.err,!0)}))}},handleName:function(e){h(e.target.value)},handleNumber:function(e){k(e.target.value)}}),r.a.createElement(f,{title:"Numbers"}),r.a.createElement(m,{persons:M,deleteContactAction:function(e,t){window.confirm("Delete ".concat(t,"?"))&&E(e).then((function(){P("Information of ".concat(t," has been removed from server"),!1)})).catch((function(){P("Information of ".concat(t," has already been removed from server"),!0)})).finally((function(){c(n.filter((function(t){return t.id!==e})))}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.89d2cfa2.chunk.js.map